<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PMERIT â€” Accessible Global Education</title>
  
  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  
  <style>
    /* === OFFICIAL PMERIT DESIGN SYSTEM === */
    :root {
      /* Brand Colors - White, Spacious Baseline */
      --brand-primary: #2563eb;
      --brand-secondary: #16a34a;
      --accent: #7c3aed;
      
      /* White Template Colors */
      --bg-primary: #ffffff;
      --bg-secondary: #f8fafc;
      --bg-tertiary: #f1f5f9;
      --text-primary: #0f172a;
      --text-secondary: #475569;
      --text-muted: #64748b;
      --border: #e2e8f0;
      --border-light: #f1f5f9;
      
      /* Interactive */
      --hover-bg: #f8fafc;
      --active-bg: #e2e8f0;
      --shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      
      /* Layout */
      --header-height: 64px;
      --footer-height: 48px;
      --sidebar-width: 280px;
      --right-panel-width: 320px;
    }

    /* Dark Mode Override */
    .dark {
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --bg-tertiary: #334155;
      --text-primary: #f8fafc;
      --text-secondary: #cbd5e1;
      --text-muted: #94a3b8;
      --border: #334155;
      --border-light: #475569;
      --hover-bg: #1e293b;
      --active-bg: #334155;
    }

    /* === BASE STYLES === */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      overflow: hidden; /* Non-scrollable desktop */
    }

    /* === HEADER === */
    .header {
      height: var(--header-height);
      background: var(--bg-primary);
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 24px;
      position: relative;
      z-index: 50;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
      font-size: 24px;
      color: var(--brand-primary);
    }

    .logo-icon {
      color: var(--brand-secondary);
    }

    .header-nav {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .language-selector {
      padding: 8px 12px;
      border: 1px solid var(--border);
      border-radius: 6px;
      background: var(--bg-primary);
      color: var(--text-primary);
      font-size: 14px;
    }

    .btn {
      padding: 8px 16px;
      border: 1px solid var(--border);
      border-radius: 6px;
      background: var(--bg-primary);
      color: var(--text-primary);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn:hover {
      background: var(--hover-bg);
      border-color: var(--brand-primary);
    }

    .btn-primary {
      background: var(--brand-primary);
      color: white;
      border-color: var(--brand-primary);
    }

    .btn-primary:hover {
      background: #1d4ed8;
    }

    /* === THREE-PANE ESTATE LAYOUT === */
    .estate {
      height: calc(100vh - var(--header-height) - var(--footer-height));
      display: grid;
      grid-template-columns: var(--sidebar-width) 1fr var(--right-panel-width);
      overflow: hidden;
    }

    /* === LEFT PANE - QUICK ACTIONS === */
    .quick-actions {
      background: var(--bg-secondary);
      border-right: 1px solid var(--border);
      overflow-y: auto;
      padding: 24px 20px;
    }

    .pane-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 20px;
    }

    .action-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: var(--bg-primary);
      margin-bottom: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .action-item:hover {
      border-color: var(--brand-primary);
      box-shadow: var(--shadow);
    }

    .action-content {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .action-icon {
      color: var(--brand-primary);
      font-size: 16px;
    }

    .action-text {
      font-weight: 500;
      color: var(--text-primary);
    }

    /* Toggle Switch */
    .toggle-switch {
      width: 40px;
      height: 20px;
      background: #cbd5e1;
      border-radius: 10px;
      position: relative;
      cursor: pointer;
      transition: all 0.2s;
    }

    .toggle-switch.active {
      background: var(--brand-primary);
    }

    .toggle-switch::after {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 16px;
      height: 16px;
      background: white;
      border-radius: 50%;
      transition: all 0.2s;
    }

    .toggle-switch.active::after {
      left: 22px;
    }

    /* Dashboard Button */
    .dashboard-btn {
      background: var(--brand-primary);
      color: white;
      border: none;
      justify-content: center;
      font-weight: 600;
    }

    .dashboard-btn.guest {
      background: var(--text-muted);
    }

    /* Settings Collapsible */
    .settings-collapsible {
      margin-top: 20px;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: var(--bg-primary);
    }

    .settings-header {
      padding: 12px 16px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .settings-body {
      padding: 16px;
      border-top: 1px solid var(--border);
      display: none;
    }

    .settings-body.open {
      display: block;
    }

    /* Virtual Human Avatar */
    .virtual-human-avatar {
      margin-top: 20px;
      text-align: center;
      display: none;
    }

    .virtual-human-avatar.active {
      display: block;
    }

    .avatar-circle {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--brand-primary), var(--accent));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 12px;
      color: white;
      font-size: 32px;
    }

    /* === CENTER - AI CHAT === */
    .ai-chat {
      background: var(--bg-primary);
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .chat-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--border);
      text-align: center;
    }

    .chat-title {
      font-size: 28px;
      font-weight: 700;
      color: var(--brand-primary);
      margin-bottom: 8px;
    }

    .chat-tagline {
      color: var(--text-secondary);
      font-size: 16px;
    }

    .mode-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 12px;
      background: var(--bg-tertiary);
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
      margin-left: 8px;
    }

    .chat-messages {
      flex: 1;
      padding: 24px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .message {
      max-width: 80%;
      padding: 12px 16px;
      border-radius: 16px;
      line-height: 1.5;
    }

    .message.user {
      background: var(--brand-primary);
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: 4px;
    }

    .message.ai {
      background: var(--bg-secondary);
      color: var(--text-primary);
      align-self: flex-start;
      border-bottom-left-radius: 4px;
    }

    .chat-input-area {
      padding: 20px 24px;
      border-top: 1px solid var(--border);
    }

    .chat-input-container {
      display: flex;
      gap: 12px;
      align-items: flex-end;
    }

    .chat-input {
      flex: 1;
      padding: 12px 16px;
      border: 1px solid var(--border);
      border-radius: 20px;
      background: var(--bg-primary);
      color: var(--text-primary);
      resize: none;
      font-family: inherit;
      line-height: 1.4;
      max-height: 120px;
    }

    .chat-input:focus {
      outline: none;
      border-color: var(--brand-primary);
    }

    .send-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--brand-primary);
      color: white;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .char-counter {
      font-size: 12px;
      color: var(--text-muted);
      text-align: right;
      margin-top: 4px;
    }

    /* === RIGHT PANE - ASSESSMENT & SUPPORT === */
    .assessment-panel {
      background: var(--bg-secondary);
      border-left: 1px solid var(--border);
      overflow-y: auto;
      padding: 24px 20px;
    }

    .support-assistant {
      background: var(--bg-primary);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      text-align: center;
      margin-bottom: 24px;
    }

    .support-assistant h3 {
      color: var(--brand-secondary);
      font-size: 16px;
      margin-bottom: 8px;
    }

    .support-assistant p {
      color: var(--text-secondary);
      font-size: 14px;
    }

    .discover-card {
      background: var(--bg-primary);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      box-shadow: var(--shadow);
    }

    .discover-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 12px;
    }

    .discover-description {
      color: var(--text-secondary);
      font-size: 14px;
      margin-bottom: 20px;
      line-height: 1.5;
    }

    .begin-assessment-btn {
      width: 100%;
      padding: 12px;
      background: var(--brand-primary);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      margin-bottom: 20px;
    }

    .begin-assessment-btn:hover {
      background: #1d4ed8;
    }

    .insights-feed {
      border-top: 1px solid var(--border);
      padding-top: 16px;
    }

    .insights-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 12px;
    }

    .insight-item {
      padding: 12px;
      background: var(--bg-secondary);
      border-radius: 8px;
      margin-bottom: 8px;
      font-size: 13px;
      color: var(--text-secondary);
      line-height: 1.4;
    }

    /* === FOOTER === */
    .footer {
      height: var(--footer-height);
      background: var(--bg-secondary);
      border-top: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 24px;
      font-size: 14px;
    }

    .footer-status {
      color: var(--brand-primary);
      font-weight: 500;
    }

    .footer-links {
      display: flex;
      gap: 16px;
    }

    .footer-links a {
      color: var(--text-secondary);
      text-decoration: none;
    }

    .footer-links a:hover {
      color: var(--brand-primary);
    }

    /* === MODALS === */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal {
      background: var(--bg-primary);
      border-radius: 12px;
      padding: 24px;
      max-width: 400px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
    }

    .modal-header {
      margin-bottom: 20px;
    }

    .modal-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .modal-close {
      float: right;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--text-muted);
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-label {
      display: block;
      margin-bottom: 4px;
      font-weight: 500;
      color: var(--text-primary);
    }

    .form-input {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: 6px;
      background: var(--bg-primary);
      color: var(--text-primary);
    }

    .form-input:focus {
      outline: none;
      border-color: var(--brand-primary);
    }

    /* === RESPONSIVE === */
    @media (max-width: 768px) {
      .estate {
        grid-template-columns: 1fr;
        height: auto;
        overflow: visible;
      }
      
      .quick-actions,
      .assessment-panel {
        display: none;
      }
      
      .mobile-accordions {
        display: block;
        padding: 16px;
      }
      
      .accordion {
        border: 1px solid var(--border);
        border-radius: 8px;
        margin-bottom: 12px;
        background: var(--bg-primary);
      }
      
      .accordion-header {
        padding: 12px 16px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .accordion-body {
        padding: 16px;
        border-top: 1px solid var(--border);
        display: none;
      }
      
      .accordion-body.open {
        display: block;
      }
    }

    @media (min-width: 769px) {
      .mobile-accordions {
        display: none;
      }
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="header">
    <div class="logo">
      <i class="fas fa-graduation-cap logo-icon"></i>
      <span>P</span><span class="logo-icon">MERIT</span>
    </div>
    
    <nav class="header-nav">
      <select class="language-selector" id="languageSelect">
        <option value="en">English</option>
        <option value="yo">YorÃ¹bÃ¡</option>
        <option value="ig">Igbo</option>
        <option value="ha">Hausa</option>
      </select>
      
      <button class="btn" id="donateBtn">
        <i class="fas fa-heart"></i>
        Donate
      </button>
      
      <button class="btn" id="signInBtn">
        <i class="fas fa-sign-in-alt"></i>
        Sign In
      </button>
      
      <button class="btn btn-primary" id="startLearningBtn">
        <i class="fas fa-rocket"></i>
        Start Learning
      </button>
    </nav>
  </header>

  <!-- Three-Pane Estate Layout -->
  <div class="estate">
    <!-- Left Pane - Quick Actions -->
    <aside class="quick-actions">
      <h2 class="pane-title">Quick Actions</h2>
      
      <!-- Dashboard Button -->
      <div class="action-item dashboard-btn guest" id="dashboardBtn">
        <div class="action-content">
          <i class="fas fa-tachometer-alt action-icon"></i>
          <span class="action-text">Dashboard</span>
        </div>
      </div>
      
      <!-- Virtual Human Toggle -->
      <div class="action-item" id="virtualHumanToggle">
        <div class="action-content">
          <i class="fas fa-user action-icon"></i>
          <span class="action-text">Virtual Human Mode</span>
        </div>
        <div class="toggle-switch" id="vhToggle"></div>
      </div>
      
      <!-- Career Track Explorer -->
      <div class="action-item" id="careerTrackBtn">
        <div class="action-content">
          <i class="fas fa-compass action-icon"></i>
          <span class="action-text">Career Track & Explore Paths</span>
        </div>
        <i class="fas fa-chevron-right"></i>
      </div>
      
      <!-- Customer Service Mode Toggle -->
      <div class="action-item" id="customerServiceToggle">
        <div class="action-content">
          <i class="fas fa-headset action-icon"></i>
          <span class="action-text">Customer Service Mode</span>
        </div>
        <div class="toggle-switch" id="csToggle"></div>
      </div>
      
      <!-- Settings Collapsible -->
      <div class="settings-collapsible">
        <div class="settings-header" id="settingsHeader">
          <span><i class="fas fa-cog action-icon"></i> Settings</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="settings-body" id="settingsBody">
          <div class="action-item" id="darkModeToggle">
            <div class="action-content">
              <i class="fas fa-moon action-icon"></i>
              <span class="action-text">Dark Mode</span>
            </div>
            <div class="toggle-switch" id="darkToggle"></div>
          </div>
          
          <div class="action-item" id="ttsToggle">
            <div class="action-content">
              <i class="fas fa-volume-up action-icon"></i>
              <span class="action-text">Text-to-Speech</span>
            </div>
            <div class="toggle-switch" id="ttsSwitch"></div>
          </div>
          
          <div class="action-item" id="voicePreviewBtn">
            <div class="action-content">
              <i class="fas fa-microphone action-icon"></i>
              <span class="action-text">Voice Preview</span>
            </div>
            <i class="fas fa-chevron-right"></i>
          </div>
        </div>
      </div>
      
      <!-- Virtual Human Avatar (appears when active) -->
      <div class="virtual-human-avatar" id="virtualAvatar">
        <div class="avatar-circle">
          <i class="fas fa-robot"></i>
        </div>
        <p>Gabriel AI Active</p>
      </div>
    </aside>

    <!-- Center - AI Chat -->
    <main class="ai-chat">
      <div class="chat-header">
        <h1 class="chat-title">
          PMERIT AI
          <span class="mode-badge" id="modeBadge">
            <i class="fas fa-graduation-cap"></i>
            Educational Tutor
          </span>
        </h1>
        <p class="chat-tagline">Your personalized AI learning companion for global education access</p>
      </div>
      
      <div class="chat-messages" id="chatMessages">
        <div class="message ai">
          <p>Hello! I'm PMERIT AI, your educational companion. I'm here to help you discover your learning path, take assessments, and achieve your educational goals. How can I assist you today?</p>
        </div>
      </div>
      
      <div class="chat-input-area">
        <div class="chat-input-container">
          <textarea 
            class="chat-input" 
            id="chatInput" 
            placeholder="Ask me anything about your learning journey..."
            rows="1"
            maxlength="2000"
          ></textarea>
          <button class="send-btn" id="sendBtn">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
        <div class="char-counter">
          <span id="charCount">0</span>/2000
        </div>
      </div>
    </main>

    <!-- Right Pane - Assessment & Support -->
    <aside class="assessment-panel">
      <!-- Support Assistant -->
      <div class="support-assistant">
        <h3><i class="fas fa-headset"></i> Support Assistant</h3>
        <p>Need help? Our AI support is available 24/7 to assist with technical questions and platform guidance.</p>
      </div>
      
      <!-- Discover Your Path Card -->
      <div class="discover-card">
        <h3 class="discover-title">Discover Your Path (AI)</h3>
        <p class="discover-description">
          Take our comprehensive AI-powered assessment to discover your personality type, interests, and optimal learning path tailored to your unique goals.
        </p>
        
        <button class="begin-assessment-btn" id="beginAssessmentBtn">
          <i class="fas fa-play-circle"></i>
          Begin Assessment
        </button>
        
        <!-- Rotating Insights Feed -->
        <div class="insights-feed">
          <h4 class="insights-title">ðŸ’¡ Daily Insights</h4>
          <div class="insight-item" id="insight1">
            85% of successful learners complete their personality assessment within the first week.
          </div>
          <div class="insight-item" id="insight2">
            Personalized learning paths increase course completion by 60%.
          </div>
          <div class="insight-item" id="insight3">
            Students with AI tutoring support show 3x faster skill development.
          </div>
        </div>
      </div>
    </aside>
  </div>

  <!-- Mobile Accordions (shown on mobile) -->
  <div class="mobile-accordions">
    <div class="accordion">
      <div class="accordion-header" onclick="toggleAccordion(this)">
        <span>Quick Actions</span>
        <i class="fas fa-chevron-down"></i>
      </div>
      <div class="accordion-body">
        <!-- Mobile version of quick actions -->
        <div class="action-item" onclick="handleDashboard()">
          <div class="action-content">
            <i class="fas fa-tachometer-alt action-icon"></i>
            <span class="action-text">Dashboard</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-status">
      <i class="fas fa-circle" style="color: #16a34a; font-size: 8px;"></i>
      Connected
    </div>
    
    <div class="footer-links">
      <a href="#privacy">Privacy & Terms</a>
      <a href="#contact">Contact</a>
      <a href="#partnerships">Partnerships</a>
      <a href="#support">Support</a>
    </div>
  </footer>

  <!-- Sign In Modal -->
  <div class="modal-overlay" id="signInModal">
    <div class="modal">
      <div class="modal-header">
        <h2 class="modal-title">Sign In to PMERIT</h2>
        <button class="modal-close" onclick="closeModal('signInModal')">&times;</button>
      </div>
      
      <form id="signInForm">
        <div class="form-group">
          <label class="form-label">Email</label>
          <input type="email" class="form-input" id="email" required>
        </div>
        
        <div class="form-group">
          <label class="form-label">Password</label>
          <input type="password" class="form-input" id="password" required>
        </div>
        
        <button type="submit" class="btn btn-primary" style="width: 100%; margin-bottom: 12px;">
          Sign In
        </button>
        
        <div style="text-align: center;">
          <a href="#" style="color: var(--brand-primary); text-decoration: none;">Forgot password?</a>
        </div>
      </form>
    </div>
  </div>

  <!-- Career Track Modal -->
  <div class="modal-overlay" id="careerTrackModal">
    <div class="modal">
      <div class="modal-header">
        <h2 class="modal-title">Career Tracks</h2>
        <button class="modal-close" onclick="closeModal('careerTrackModal')">&times;</button>
      </div>
      
      <div id="careerTracksList">
        <!-- Populated by JavaScript -->
      </div>
    </div>
