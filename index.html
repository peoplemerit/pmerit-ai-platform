<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PMERIT — Accessible Global Education</title>

  <!-- Icons & Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>

  <style>
    :root{
      --brand:#2563EB;        /* blue */
      --accent:#7C3AED;       /* purple */
      --ok:#16A34A;           /* green */
      --ink:#1e293b;
      --ink-light:#475569;
      --muted:#64748b;
      --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --bg-gradient-dark: linear-gradient(135deg, #1e3a8a 0%, #581c87 100%);
      --card:#ffffff;
      --card-dark:#1e293b;
      --border:#e2e8f0;
      --border-dark:#334155;
      --shadow:0 4px 20px rgba(0, 0, 0, 0.1);
      --shadow-lg:0 10px 40px rgba(0, 0, 0, 0.15);
      --trans:all .25s cubic-bezier(.4,0,.2,1);
      --header-h:80px;
      --footer-h:60px;
    }
    .dark{
      --ink:#e2e8f0; 
      --ink-light:#cbd5e1;
      --muted:#94a3b8; 
      --card:#1e293b;
      --border:#334155;
      --bg-gradient: var(--bg-gradient-dark);
    }
    
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    body{
      background: var(--bg-gradient);
      color:var(--ink);
      overflow:hidden; 
      display:flex; 
      flex-direction:column;
      min-height: 100vh;
    }

    /* Header */
    header{
      height:var(--header-h); 
      flex:0 0 auto;
      display:flex; 
      align-items:center; 
      justify-content:space-between;
      padding:0 2rem; 
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,0.2);
      z-index:50;
      position: relative;
    }
    .dark header {
      background: rgba(30, 41, 59, 0.95);
      border-bottom: 1px solid rgba(51, 65, 85, 0.5);
    }
    
    .logo{
      font-weight:800; 
      letter-spacing:-0.025em; 
      color:var(--brand); 
      font-size:1.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .logo::before {
      content: "🎓";
      font-size: 1.75rem;
    }
    
    nav{display:flex; gap:0.75rem; align-items:center; flex-wrap:wrap}
    select,.btn{
      border:1px solid var(--border); 
      background:var(--card); 
      color:var(--ink);
      padding:0.75rem 1.25rem; 
      border-radius:50px; 
      min-height:44px; 
      font-weight:600;
      cursor:pointer; 
      transition:var(--trans);
      font-size: 0.875rem;
    }
    .btn:hover,select:hover{
      border-color:var(--brand);
      transform: translateY(-1px);
      box-shadow: var(--shadow);
    }
    .btn.primary{
      background:var(--brand); 
      color:#fff; 
      border-color:var(--brand);
      box-shadow: var(--shadow);
    }
    .btn.primary:hover{
      background:#1d4ed8;
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }
    .btn.ghost{background:transparent; border-color: rgba(255,255,255,0.3);}

    /* Main layout */
    .estate{
      flex:1 1 auto; 
      height:calc(100vh - var(--header-h) - var(--footer-h));
      display:grid; 
      grid-template-columns:320px minmax(600px,1fr) 400px;
      gap: 2rem;
      padding: 2rem 2rem 0;
      overflow:hidden;
    }

    /* Left sidebar */
    #left {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }
    
    .sidebar-title {
      background: var(--card);
      border-radius: 1rem;
      box-shadow: var(--shadow);
      padding: 1.5rem;
      text-align: center;
      border: 1px solid var(--border);
    }
    .sidebar-title h2 {
      margin: 0;
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--brand);
    }
    .sidebar-title p {
      margin: 0.5rem 0 0 0;
      color: var(--muted);
      font-size: 0.875rem;
    }

    .quick-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }
    
    .quick-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 1rem;
      box-shadow: var(--shadow);
      padding: 1.5rem;
      cursor: pointer;
      transition: var(--trans);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.75rem;
      min-height: 120px;
      justify-content: center;
      text-align: center;
    }
    
    .quick-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
      border-color: var(--brand);
    }
    
    .quick-card .icon {
      font-size: 1.5rem;
      color: var(--brand);
    }
    
    .quick-card .label {
      font-weight: 600;
      color: var(--ink);
      font-size: 0.875rem;
      line-height: 1.3;
    }
    
    /* Toggle switches */
    .switch{
      width:42px; 
      height:22px; 
      background:#cbd5e1; 
      border-radius:999px; 
      position:relative;
      margin-top: 0.5rem;
    }
    .switch::after{
      content:""; 
      position:absolute; 
      left:2px; 
      top:2px; 
      width:18px; 
      height:18px; 
      background:#fff; 
      border-radius:999px; 
      transition:var(--trans);
    }
    .quick-card.active .switch{background:var(--brand)}
    .quick-card.active .switch::after{left:22px}

    /* Dashboard Button */
    .dashboard-btn {
      background: var(--brand);
      color: #fff;
      border: 1px solid var(--brand);
      border-radius: 1rem;
      box-shadow: var(--shadow-lg);
      padding: 1.5rem;
      cursor: pointer;
      transition: var(--trans);
      text-align: center;
      font-weight: 700;
      font-size: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      grid-column: 1 / -1;
    }
    
    .dashboard-btn:hover {
      background: #1d4ed8;
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }
    
    .dashboard-btn.guest {
      background: var(--muted);
      border-color: var(--muted);
    }
    
    .dashboard-btn.guest:hover {
      background: #475569;
    }

    /* Settings dropdown */
    .settings-dropdown {
      position: relative;
    }
    
    .settings-menu {
      position: absolute;
      top: calc(100% + 0.5rem);
      left: 0;
      right: 0;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 1rem;
      box-shadow: var(--shadow-lg);
      padding: 1rem;
      display: none;
      z-index: 100;
    }
    
    .settings-menu.open {
      display: block;
    }
    
    .settings-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.75rem 0;
      border-bottom: 1px solid var(--border);
      font-size: 0.875rem;
    }
    
    .settings-item:last-child {
      border-bottom: none;
    }

    /* Center panel */
    main {
      display: flex;
      flex-direction: column;
    }
    
    .main-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 1.25rem;
      box-shadow: var(--shadow-lg);
      height: 100%;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    
    .main-header {
      padding: 2rem 2rem 1rem;
      border-bottom: 1px solid var(--border);
      background: rgba(37, 99, 235, 0.02);
    }
    
    .main-header h1 {
      margin: 0 0 0.5rem 0;
      font-size: 1.875rem;
      font-weight: 800;
      color: var(--ink);
    }
    
    .main-header p {
      margin: 0;
      color: var(--muted);
      font-size: 1rem;
    }
    
    .badges{
      display:flex; 
      gap:0.5rem; 
      flex-wrap:wrap;
      margin-top: 1rem;
    }
    .badge{
      background:var(--brand); 
      color:#fff; 
      font-size:0.75rem; 
      font-weight: 600;
      padding:0.375rem 0.875rem; 
      border-radius:50px; 
      display:inline-flex; 
      gap:0.375rem; 
      align-items:center;
    }
    .badge.support{background:var(--ok)}
    .badge.vh{background:var(--accent)}

    /* Chat area */
    #textChat{
      display:flex; 
      flex-direction:column; 
      height:100%; 
      flex: 1;
    }
    .chat-body{
      flex:1 1 auto; 
      padding: 2rem; 
      overflow:auto; 
      display:flex; 
      flex-direction:column; 
      gap:1.25rem;
    }
    
    .bubble{
      display:flex; 
      gap:1rem; 
      align-items:flex-start; 
      background: rgba(37,99,235,0.04); 
      border:1px solid rgba(37,99,235,0.1); 
      border-radius:1rem; 
      padding:1.5rem;
    }
    .ava{
      min-width:40px; 
      height:40px; 
      border-radius:50%; 
      display:grid; 
      place-items:center; 
      color:#fff;
      background:linear-gradient(135deg,var(--brand),var(--ok));
      font-size: 1.1rem;
    }
    .bubble h3{
      margin:0 0 0.5rem; 
      color:var(--brand); 
      font-size:1rem; 
      font-weight: 700;
    }
    .bubble p{
      margin:0; 
      line-height:1.6; 
      color: var(--ink);
    }

    /* Chat Input Area */
    .chat-input{
      flex:0 0 auto; 
      border-top:1px solid var(--border); 
      background: rgba(248,250,252,0.5); 
      padding:1.5rem 2rem;
    }
    .dark .chat-input {
      background: rgba(15, 23, 42, 0.5);
    }
    
    textarea{
      width:100%; 
      min-height:80px; 
      resize:none; 
      background:var(--card); 
      color:var(--ink);
      border:1px solid var(--border); 
      border-radius:0.75rem; 
      padding:1rem;
      font-family: inherit;
      font-size: 0.95rem;
    }
    textarea:focus{
      outline:none; 
      box-shadow:0 0 0 3px rgba(37,99,235,0.12); 
      border-color:var(--brand);
    }
    textarea::placeholder {
      color: var(--muted);
    }
    
    .input-bar{
      display:flex; 
      align-items:center; 
      justify-content:space-between; 
      margin-top:1rem; 
      gap:1rem;
    }
    .count{
      font-size:0.875rem; 
      color:var(--muted);
    }
    .input-actions {
      display: flex;
      gap: 0.75rem;
      align-items: center;
    }
    .send{
      border:none; 
      background:var(--brand); 
      color:#fff; 
      padding:0.75rem 1.5rem; 
      border-radius:0.75rem; 
      font-weight:700; 
      cursor:pointer;
      transition: var(--trans);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .send:hover {
      background: #1d4ed8;
      transform: translateY(-1px);
      box-shadow: var(--shadow);
    }

    /* Virtual Human stage */
    #vhStage{
      display:none; 
      flex-direction:column; 
      height:100%;
    }
    .stage{
      flex:1 1 auto; 
      display:grid; 
      place-items:center; 
      padding:2rem;
    }
    .human-frame{
      width:min(600px,90%); 
      height:min(360px,50vh); 
      border:2px solid var(--brand); 
      border-radius:1.25rem; 
      box-shadow:var(--shadow-lg);
      background:linear-gradient(135deg,#f1f5f9,#f8fafc); 
      display:grid; 
      place-items:center;
    }
    .dark .human-frame {
      background:linear-gradient(135deg,#334155,#475569);
    }
    .human-face{
      width:100px; 
      height:100px; 
      border-radius:50%; 
      background:linear-gradient(135deg,var(--brand),var(--ok));
      color:#fff; 
      display:grid; 
      place-items:center; 
      font-size:2.5rem; 
      border:4px solid #fff;
    }
    .captions{
      border-top:1px solid var(--border); 
      background: rgba(248,250,252,0.5); 
      padding:1rem 2rem; 
      color:var(--muted);
    }

    /* Right sidebar */
    #right {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .support-card, .discover-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 1.25rem;
      box-shadow: var(--shadow);
      padding: 2rem;
      transition: var(--trans);
    }
    
    .support-card h3 {
      margin: 0 0 0.5rem 0;
      color: var(--ok);
      font-size: 1.25rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .support-card p {
      margin: 0 0 1.5rem 0;
      color: var(--muted);
    }
    
    .support-buttons {
      display: flex;
      gap: 0.75rem;
      justify-content: center;
    }
    
    .discover-card h3 {
      margin: 0 0 1rem 0;
      color: var(--brand);
      font-size: 1.25rem;
      font-weight: 700;
      position: relative;
      padding-bottom: 0.5rem;
    }
    .discover-card h3::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 40px;
      height: 3px;
      background: var(--brand);
      border-radius: 2px;
    }
    
    .assessment-item {
      margin-bottom: 2rem;
    }
    
    .assessment-item:last-child {
      margin-bottom: 0;
    }
    
    .assessment-item h4 {
      margin: 0 0 0.75rem 0;
      color: var(--ink);
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .assessment-item p {
      margin: 0 0 1rem 0;
      color: var(--muted);
      line-height: 1.6;
      font-size: 0.875rem;
    }
    
    .assessment-item .btn {
      width: 100%;
      justify-content: center;
    }
    
    .insights {
      margin-top: 1.5rem;
      padding-top: 1rem;
      border-top: 1px dashed var(--border);
      color: var(--muted);
      font-size: 0.875rem;
      font-style: italic;
    }

    /* Footer */
    footer{
      height:var(--footer-h);
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(255,255,255,0.2);
      display:flex; 
      align-items:center; 
      justify-content:space-between; 
      padding:0 2rem; 
      z-index:50;
      margin-top: auto;
    }
    .dark footer {
      background: rgba(30, 41, 59, 0.95);
      border-top: 1px solid rgba(51, 65, 85, 0.5);
    }
    .footer-status{
      font-weight:600; 
      color:var(--brand); 
      font-size:0.875rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .footer-links{
      display:flex; 
      gap:1rem; 
      flex-wrap:wrap;
    }
    .footer-links .btn {
      padding: 0.5rem 1rem;
      font-size: 0.875rem;
      background: transparent;
      border-color: rgba(255,255,255,0.3);
    }
    .footer-links .btn:hover {
      border-color: var(--brand);
      background: rgba(37, 99, 235, 0.1);
    }

    /* Mobile Responsive */
    @media (max-width:1200px){
      .estate{
        grid-template-columns:1fr; 
        gap: 1rem;
        padding: 1rem;
        height:calc(100vh - var(--header-h) - var(--footer-h));
        overflow-y:auto;
      }
      header{
        padding: 0 1rem;
        flex-wrap:wrap; 
        gap:1rem;
        height: auto;
        min-height: var(--header-h);
      }
      .logo{
        order: 1;
        width: 100%; 
        justify-content: center;
      }
      nav {
        order: 2;
        width: 100%;
        justify-content: center;
      }
      
      #left, #right{display:none}
      main{
        min-height:calc(100vh - var(--header-h) - var(--footer-h) - 2rem);
        order: 1;
      }
      
      #mobileAccordions{
        display:block; 
        margin: 1rem 0;
        order: 2;
      }
      
      .mobile-accordion {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 1rem;
        box-shadow: var(--shadow);
        margin-bottom: 1rem;
        overflow: hidden;
      }
      
      .mobile-accordion summary {
        padding: 1.25rem;
        cursor: pointer;
        font-weight: 600;
        color: var(--ink);
        background: rgba(37, 99, 235, 0.02);
        border-bottom: 1px solid var(--border);
      }
      
      .mobile-accordion-content {
        padding: 1.25rem;
      }
      
      .mobile-grid {
        display: grid;
        gap: 1rem;
        grid-template-columns: 1fr 1fr;
      }
      
      .mobile-card {
        background: rgba(37, 99, 235, 0.04);
        border: 1px solid rgba(37, 99, 235, 0.1);
        border-radius: 0.75rem;
        padding: 1rem;
        text-align: center;
        cursor: pointer;
        transition: var(--trans);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
      }
      
      .mobile-card:hover {
        background: rgba(37, 99, 235, 0.08);
        transform: translateY(-1px);
      }
      
      footer {
        position: relative;
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
        height: auto;
      }
      
      .footer-links {
        order: 1;
      }
      
      .footer-status {
        order: 2;
      }
    }

    @media (min-width:1201px){
      #mobileAccordions{display:none}
    }

    /* Focus states */
    .btn:focus,.quick-card:focus,.mobile-card:focus,textarea:focus,select:focus{
      outline:2px solid var(--brand); 
      outline-offset:2px;
    }

    /* Modal styles */
    dialog {
      border: none;
      border-radius: 1rem;
      max-width: 560px;
      width: 92%;
      box-shadow: var(--shadow-lg);
      background: var(--card);
      color: var(--ink);
      padding: 0;
    }
    
    dialog form {
      margin: 0;
      padding: 2rem;
    }
    
    dialog h3 {
      margin: 0 0 1.5rem 0;
      color: var(--brand);
      display: flex;
      gap: 0.5rem;
      align-items: center;
      font-size: 1.25rem;
    }
    
    dialog label {
      display: grid;
      gap: 0.5rem;
      margin-bottom: 1rem;
      font-weight: 500;
    }
    
    dialog input {
      padding: 0.875rem;
      border: 1px solid var(--border);
      border-radius: 0.75rem;
      background: var(--card);
      color: var(--ink);
      font-family: inherit;
    }
    
    dialog input:focus {
      outline: none;
      border-color: var(--brand);
      box-shadow: 0 0 0 3px rgba(37,99,235,0.12);
    }

    /* Career tracks modal */
    .tracks-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 1rem;
      margin: 1rem 0;
    }
    
    .track-card {
      background: rgba(37, 99, 235, 0.04);
      border: 1px solid rgba(37, 99, 235, 0.1);
      border-radius: 0.75rem;
      padding: 1.25rem;
      cursor: pointer;
      transition: var(--trans);
    }
    
    .track-card:hover {
      background: rgba(37, 99, 235, 0.08);
      border-color: var(--brand);
      transform: translateY(-1px);
    }
    
    .track-card h4 {
      margin: 0 0 0.5rem 0;
      color: var(--brand);
      font-weight: 600;
    }
    
    .track-card p {
      margin: 0;
      color: var(--muted);
      font-size: 0.875rem;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo">PMERIT</div>
    <nav>
      <select id="lang" aria-label="Language">
        <option value="en">English</option>
        <option value="yo">Yorùbá</option>
        <option value="ig">Igbo</option>
        <option value="ha">Hausa</option>
      </select>
      <button class="btn" id="pricingBtn">Pricing</button>
      <button class="btn" id="signInBtn">Sign In</button>
      <button class="btn primary" id="startBtn">Start Learning</button>
    </nav>
  </header>

  <div class="estate">
    <!-- Left Sidebar -->
    <aside id="left" aria-label="Quick actions sidebar">
      <div class="sidebar-title">
        <h2>Empowering Learning Through Innovation</h2>
        <p>Accessible, high-quality education for global opportunities</p>
      </div>
      
      <div class="quick-grid">
        <button class="quick-card" id="vhToggle">
          <i class="fas fa-user-astronaut icon"></i>
          <span class="label">Virtual Human Mode</span>
          <div class="switch" aria-hidden="true"></div>
        </button>

        <button class="quick-card" id="careerPathsBtn">
          <i class="fas fa-compass icon"></i>
          <span class="label">Career Track & Explore Paths</span>
        </button>

        <button class="quick-card" id="supportToggle">
          <i class="fas fa-headset icon"></i>
          <span class="label">Customer Service Mode</span>
          <div class="switch" aria-hidden="true"></div>
        </button>

        <div class="quick-card settings-dropdown" id="settingsBtn">
          <i class="fas fa-cog icon"></i>
          <span class="label">Settings</span>
          <div class="settings-menu" id="settingsMenu">
            <div class="settings-item">
              <span><i class="fas fa-moon"></i> Dark Mode</span>
              <div class="switch" id="darkModeSwitch"></div>
            </div>
            <div class="settings-item">
              <span><i class="fas fa-volume-up"></i> Text-to-Speech</span>
              <div class="switch" id="ttsSwitch"></div>
            </div>
          </div>
        </div>
      </div>

      <button class="dashboard-btn guest" id="dashboardBtn">
        <i class="fas fa-gauge-high"></i>
        Dashboard
      </button>
    </aside>

    <!-- Center Content -->
    <main>
      <div class="main-card">
        <div class="main-header">
          <h1>Empowering Learning Through Innovation</h1>
          <p>Accessible, high-quality education for global opportunities</p>
          <div class="badges">
            <span class="badge vh" id="vhBadge" style="display:none">
              <i class="fas fa-user-astronaut"></i> 
              Virtual Human
            </span>
            <span class="badge support" id="supportBadge" style="display:none">
              <i class="fas fa-headset"></i> 
              Support Assistant
            </span>
          </div>
        </div>

        <div id="textChat" role="region" aria-live="polite">
          <div class="chat-body" id="chatBody">
            <article class="bubble" id="welcomeMsg">
              <div class="ava"><i class="fas fa-user-circle"></i></div>
              <div>
                <h3>PMERIT AI:</h3>
                <p id="welcomeCopy">Welcome to PMERIT! I'm here to guide your learning journey. Our mission is to provide accessible, high-quality education that opens doors to endless opportunities. How can I help you discover your potential today?</p>
              </div>
            </article>
          </div>
          
          <div class="chat-input">
            <textarea id="chatInput" maxlength="1000" placeholder="Ask about courses, learning paths, or your goals..." aria-label="Message"></textarea>
            <div class="input-bar">
              <span class="count" id="count">0/1000</span>
              <div class="input-actions">
                <button class="btn ghost" id="vhQuick">
                  <i class="fas fa-user-astronaut"></i> Virtual Human
                </button>
                <button class="btn ghost" id="readAbout">
                  <i class="fas fa-book"></i> Read About
                </button>
              </div>
              <button class="send" id="sendBtn">
                Send <i class="fas fa-paper-plane"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Virtual Human Stage -->
        <div id="vhStage" role="region" aria-live="polite">
          <div class="stage">
            <div class="human-frame">
              <div class="human-face"><i class="fas fa-user-circle"></i></div>
            </div>
          </div>
          <div class="captions" id="captions">Virtual Human is ready...</div>
        </div>
      </div>
    </main>

    <!-- Right Sidebar -->
    <aside id="right" aria-label="Support and discover sidebar">
      <div class="support-card">
        <h3><i class="fas fa-headset"></i> Support Assistant</h3>
        <p>Ask me about PMERIT</p>
        <div class="support-buttons">
          <button class="btn" id="vhShort">
            <i class="fas fa-user-astronaut"></i> Virtual Human
          </button>
          <button class="btn" id="supportShort">
            <i class="fas fa-headset"></i> Support
          </button>
        </div>
      </div>

      <div class="discover-card">
        <h3><i class="fas fa-graduation-cap"></i> Discover Your Path</h3>
        
        <div class="assessment-item">
          <h4><i class="fas fa-brain" style="color: var(--accent);"></i> Learning Style Assessment</h4>
          <p>Discover how you learn best and personalize your experience</p>
          <button class="btn primary" id="learningStyleBtn">
            Start Assessment →
          </button>
        </div>
        
        <div class="assessment-item">
          <h4><i class="fas fa-lightbulb" style="color: var(--ok);"></i> Interest Profiler</h4>
          <p>Explore subjects and fields that match your natural interests</p>
          <button class="btn primary" id="interestProfilerBtn">
            Discover Interests →
          </button>
        </div>
        
        <div class="assessment-item">
          <h4><i class="fas fa-tools" style="color: var(--brand);"></i> Skills Assessment</h4>
          <p>Assess your current abilities and identify growth opportunities</p>
          <button class="btn primary" id="skillsAssessmentBtn">
            Evaluate Skills →
          </button>
        </div>
        
        <div class="insights" id="insights">
          Pro tip: Keep notes in your own words for better recall.
        </div>
      </div>
    </aside>
  </div>

  <!-- Mobile Accordions -->
  <div id="mobileAccordions" aria-label="Mobile sections">
    <details class="mobile-accordion">
      <summary>
        <i class="fas fa-bolt"></i> Quick Actions - Tap to expand ▼
      </summary>
      <div class="mobile-accordion-content">
        <div class="mobile-grid">
          <button class="mobile-card" id="m_vhToggle">
            <i class="fas fa-user-astronaut"></i>
            <span>Virtual Human</span>
            <div class="switch"></div>
          </button>
          <button class="mobile-card" id="m_careerPaths">
            <i class="fas fa-compass"></i>
            <span>Career Paths</span>
          </button>
          <button class="mobile-card" id="m_support">
            <i class="fas fa-headset"></i>
            <span>Support Mode</span>
            <div class="switch"></div>
          </button>
          <button class="mobile-card" id="m_settings">
            <i class="fas fa-cog"></i>
            <span>Settings</span>
          </button>
        </div>
        <button class="dashboard-btn guest" id="m_dashboardBtn" style="margin-top: 1rem;">
          <i class="fas fa-gauge-high"></i> Dashboard
        </button>
      </div>
    </details>

    <details class="mobile-accordion">
      <summary>
        <i class="fas fa-graduation-cap"></i> Assessments - Tap to expand ▼
      </summary>
      <div class="mobile-accordion-content">
        <div style="display:flex;flex-direction:column;gap:1rem">
          <button class="btn primary" id="m_learningStyle">
            Learning Style Assessment →
          </button>
          <button class="btn primary" id="m_interests">
            Interest Profiler →
          </button>
          <button class="btn primary" id="m_skills">
            Skills Assessment →
          </button>
        </div>
        <div class="insights" id="m_insights" style="margin-top:1rem">
          Tip: Short, daily practice beats long, rare sessions.
        </div>
      </div>
    </details>
  </div>

  <!-- Footer -->
  <footer>
    <span class="footer-status">
      <i class="fas fa-circle-check"></i> 
      Connected to Educational Services
    </span>
    <div class="footer-links">
      <a class="btn ghost" href="#privacy">Privacy & Terms</a>
      <a class="btn ghost" href="#contact">Contact</a>
      <a class="btn ghost" href="#partnerships">Partnerships</a>
      <a class="btn ghost" href="#support">Support</a>
    </div>
  </footer>

  <!-- Modals -->
  <!-- Sign Up Modal -->
  <dialog id="signUpModal">
    <form method="dialog">
      <h3><i class="fas fa-user-plus"></i> Create your PMERIT account</h3>
      <label>
        <span>Full name</span>
        <input id="su_name" required placeholder="Your name"/>
      </label>
      <label>
        <span>Email</span>
        <input id="su_email" type="email" required placeholder="you@example.com"/>
      </label>
      <label>
        <span>Password</span>
        <input id="su_pwd" type="password" required placeholder="••••••••"/>
      </label>
      <p style="font-size:0.875rem;color:var(--muted);margin:1rem 0">
        By continuing you agree to our terms.
      </p>
      <div style="display:flex;justify-content:flex-end;gap:0.75rem;margin-top:1.5rem">
        <button class="btn" id="signUpCancel" type="button">Cancel</button>
        <button class="btn primary" id="signUpCreate" type="button">Create account</button>
      </div>
    </form>
  </dialog>

  <!-- Career Tracks Modal -->
  <dialog id="careerTracksModal">
    <form method="dialog">
      <h3><i class="fas fa-compass"></i> Explore Career Tracks</h3>
      <div class="tracks-grid" id="tracksGrid">
        <!-- Tracks will be populated by JavaScript -->
      </div>
      <div style="display:flex;justify-content:flex-end;gap:0.75rem;margin-top:1.5rem">
        <button class="btn" id="tracksClose" type="button">Close</button>
      </div>
    </form>
  </dialog>

  <!-- Assessment Modal -->
  <dialog id="assessmentModal">
    <form method="dialog">
      <h3><i class="fas fa-graduation-cap"></i> Discover Your Path — Quick Assessment</h3>
      <ol style="line-height:1.6;margin:0 0 1.5rem 1.5rem">
        <li><strong>Learning style:</strong> a few preferences.</li>
        <li><strong>Interests:</strong> choose areas you enjoy.</li>
        <li><strong>Skills:</strong> rate comfort with common tools.</li>
      </ol>
      <p style="color:var(--muted);margin:0 0 1.5rem">
        This assessment records your choices and shows a suggested track.
      </p>
      <div style="display:flex;justify-content:flex-end;gap:0.75rem">
        <button class="btn" id="assessmentCancel" type="button">Cancel</button>
        <button class="btn primary" id="assessmentStart" type="button">Start</button>
      </div>
    </form>
  </dialog>

  <!-- JavaScript -->
  <script>
    // Utility functions
    const $=(s,r=document)=>r.querySelector(s);
    const $$=(s,r=document)=>Array.from(r.querySelectorAll(s));
    const body=document.body;
    const state={auth:false,dark:false,vh:false,support:false,tts:false,lang:'en'};

    // Career tracks data
    const CAREER_TRACKS = [
      {
        id: 'fullstack',
        name: 'Software Development (Full-stack)',
        description: 'Front-end + back-end foundations with project practice.'
      },
      {
        id: 'data',
        name: 'Data Analytics',
        description: 'Spreadsheets → SQL → dashboards for real insights.'
      },
      {
        id: 'uiux',
        name: 'UI/UX Design',
        description: 'Design thinking, wireframes, prototypes, usability.'
      },
      {
        id: 'marketing',
        name: 'Digital Marketing',
        description: 'SEO, content, ads, analytics for growth.'
      },
      {
        id: 'support',
        name: 'Customer Support (Remote)',
        description: 'Ticketing, empathy, SLAs, tooling.'
      },
      {
        id: 'va',
        name: 'Virtual Assistance / Operations',
        description: 'Scheduling, docs, communication, tooling.'
      },
      {
        id: 'cloud',
        name: 'Cloud & DevOps (Intro)',
        description: 'Cloud basics, CI/CD, containers overview.'
      }
    ];

    // Save/load state
    function save(k,v){ 
      try{ localStorage.setItem(k,String(v)); }catch{} 
    }
    function load(k){ 
      try{ return localStorage.getItem(k); }catch{ return null; } 
    }
    
    // Initialize state
    function initState(){
      state.dark = load('pmerit_dark') === 'true';
      state.tts = load('pmerit_tts') === 'true';
      state.auth = load('pmerit_auth') === 'true';
      state.lang = load('pmerit_lang') || 'en';
      
      body.classList.toggle('dark', state.dark);
      updateDarkModeUI();
      updateTTSUI();
      updateAuthUI();
      $('#lang').value = state.lang;
    }

    // Dark mode
    function setDark(on){
      state.dark = on;
      body.classList.toggle('dark', on);
      updateDarkModeUI();
      save('pmerit_dark', on);
    }
    
    function updateDarkModeUI(){
      $('#darkModeSwitch').classList.toggle('active', state.dark);
    }

    // TTS  
    function setTTS(on){
      state.tts = on;
      updateTTSUI();
      save('pmerit_tts', on);
      if(!on && 'speechSynthesis' in window) speechSynthesis.cancel();
    }
    
    function updateTTSUI(){
      $('#ttsSwitch').classList.toggle('active', state.tts);
    }

    // Auth UI updates
    function updateAuthUI(){
      const dashBtns = $$('.dashboard-btn');
      dashBtns.forEach(btn => {
        btn.classList.toggle('guest', !state.auth);
        btn.textContent = state.auth ? '📊 Dashboard' : '📊 Dashboard';
      });
    }

    // Virtual Human toggle
    function setVH(on){
      state.vh = on;
      const textChat = $('#textChat');
      const vhStage = $('#vhStage');
      const vhBadge = $('#vhBadge');
      const vhToggle = $('#vhToggle');
      const m_vhToggle = $('#m_vhToggle');
      
      vhToggle.classList.toggle('active', on);
      m_vhToggle?.classList.toggle('active', on);
      
      if(on){
        textChat.style.display = 'none';
        vhStage.style.display = 'flex';
        vhBadge.style.display = 'inline-flex';
        $('#captions').textContent = "Virtual Human is ready. Ask me anything!";
      } else {
        vhStage.style.display = 'none';
        textChat.style.display = 'flex';
        vhBadge.style.display = 'none';
      }
    }

    // Support mode toggle
    function setSupport(on){
      state.support = on;
      const supportBadge = $('#supportBadge');
      const supportToggle = $('#supportToggle');
      const m_support = $('#m_support');
      const welcomeCopy = $('#welcomeCopy');
      
      supportToggle.classList.toggle('active', on);
      m_support?.classList.toggle('active', on);
      supportBadge.style.display = on ? 'inline-flex' : 'none';
      
      if(welcomeCopy) {
        welcomeCopy.textContent = on 
          ? "Welcome to PMERIT Support. I can help with accounts, enrollment, technical issues, and any questions about our platform. How can I assist you today?"
          : "Welcome to PMERIT! I'm here to guide your learning journey. Our mission is to provide accessible, high-quality education that opens doors to endless opportunities. How can I help you discover your potential today?";
      }
    }

    // Settings dropdown
    $('#settingsBtn').addEventListener('click', (e) => {
      e.stopPropagation();
      const menu = $('#settingsMenu');
      menu.classList.toggle('open');
    });

    // Close settings when clicking outside
    document.addEventListener('click', () => {
      $('#settingsMenu').classList.remove('open');
    });

    // Settings toggles
    $('#darkModeSwitch').addEventListener('click', (e) => {
      e.stopPropagation();
      setDark(!state.dark);
    });
    
    $('#ttsSwitch').addEventListener('click', (e) => {
      e.stopPropagation();
      setTTS(!state.tts);
    });

    // Chat functionality
    const chatInput = $('#chatInput');
    const chatBody = $('#chatBody');
    const sendBtn = $('#sendBtn');
    const count = $('#count');

    chatInput.addEventListener('input', ()=>{
      count.textContent = (chatInput.value || '').length + '/1000';
    });

    sendBtn.addEventListener('click', sendMessage);
    chatInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
      }
    });

    function sendMessage() {
      const text = (chatInput.value || '').trim();
      if(!text) return;

      // Remove welcome message
      $('#welcomeMsg')?.remove();

      // Add user message
      const userMsg = document.createElement('article');
      userMsg.className = 'bubble';
      userMsg.innerHTML = `
        <div class="ava" style="background:#4f46e5"><i class="fas fa-user"></i></div>
        <div>
          <h3>You</h3>
          <p>${text}</p>
        </div>
      `;
      chatBody.appendChild(userMsg);
      chatBody.scrollTop = chatBody.scrollHeight;

      // AI Response
      setTimeout(()=>{
        let reply;
        if(state.support) {
          reply = "Thanks for reaching out! I'm here to help with any questions about PMERIT. Whether you need help with account setup, course enrollment, technical issues, or understanding our platform features, I'm ready to assist. What specific area would you like help with?";
        } else {
          // Context-aware responses based on user input
          const lowerText = text.toLowerCase();
          if(lowerText.includes('career') || lowerText.includes('job')) {
            reply = "Based on your interest in career development, I'd recommend starting with our Career Track assessment. We offer paths in Software Development, Data Analytics, UI/UX Design, Digital Marketing, and more. Would you like me to show you our career tracks or should we start with the Learning Style Assessment to find the best approach for you?";
          } else if(lowerText.includes('learn') || lowerText.includes('course')) {
            reply = "Great! I'd love to help you start your learning journey. Our approach is personalized - we first understand how you learn best, then match you with the right courses and career paths. Would you like to begin with the Learning Style Assessment, or do you have a specific field in mind like technology, design, or business?";
          } else if(lowerText.includes('remote') || lowerText.includes('work')) {
            reply = "Perfect! All our programs are designed for remote work readiness. We focus on skills that are in high demand for remote positions: Software Development, Data Analytics, Digital Marketing, Customer Support, and Virtual Assistance. Should we start by discovering which path aligns with your interests and strengths?";
          } else {
            reply = "I'm here to help you discover the perfect learning path for your goals! We can start with a quick assessment to understand your learning style, interests, and current skills. This helps us recommend the best career track for you. Would you like to begin the assessment, or do you have specific questions about our programs?";
          }
        }
        
        const aiMsg = document.createElement('article');
        aiMsg.className = 'bubble';
        aiMsg.innerHTML = `
          <div class="ava"><i class="fas fa-user-circle"></i></div>
          <div>
            <h3>PMERIT AI:</h3>
            <p>${reply}</p>
          </div>
        `;
        chatBody.appendChild(aiMsg);
        chatBody.scrollTop = chatBody.scrollHeight;

        if(state.tts && 'speechSynthesis' in window){
          const utterance = new SpeechSynthesisUtterance(reply);
          speechSynthesis.speak(utterance);
        }
        if(state.vh){
          $('#captions').textContent = reply;
        }
      }, 800);

      chatInput.value = '';
      count.textContent = '0/1000';
    }

    // Career tracks modal
    function populateCareerTracks() {
      const grid = $('#tracksGrid');
      grid.innerHTML = '';
      
      CAREER_TRACKS.forEach(track => {
        const card = document.createElement('div');
        card.className = 'track-card';
        card.innerHTML = `
          <h4>${track.name}</h4>
          <p>${track.description}</p>
        `;
        card.addEventListener('click', () => {
          $('#careerTracksModal').close();
          // Add recommendation to chat
          const aiMsg = document.createElement('article');
          aiMsg.className = 'bubble';
          aiMsg.innerHTML = `
            <div class="ava"><i class="fas fa-user-circle"></i></div>
            <div>
              <h3>PMERIT AI:</h3>
              <p>Great choice! The ${track.name} track is excellent for remote work. ${track.description} Would you like to start with our Learning Style Assessment to see how this path can be customized to your learning preferences?</p>
            </div>
          `;
          $('#chatBody').appendChild(aiMsg);
          $('#chatBody').scrollTop = $('#chatBody').scrollHeight;
        });
        grid.appendChild(card);
      });
    }

    // Event listeners
    $('#vhToggle').addEventListener('click', ()=>setVH(!state.vh));
    $('#m_vhToggle')?.addEventListener('click', ()=>setVH(!state.vh));
    $('#vhQuick').addEventListener('click', ()=>setVH(true));
    $('#vhShort').addEventListener('click', ()=>setVH(true));

    $('#supportToggle').addEventListener('click', ()=>setSupport(!state.support));
    $('#m_support')?.addEventListener('click', ()=>setSupport(!state.support));
    $('#supportShort').addEventListener('click', ()=>setSupport(true));

    // Career paths
    $('#careerPathsBtn').addEventListener('click', ()=>{
      populateCareerTracks();
      $('#careerTracksModal').showModal();
    });
    $('#m_careerPaths')?.addEventListener('click', ()=>{
      populateCareerTracks();
      $('#careerTracksModal').showModal();
    });
    $('#tracksClose').addEventListener('click', ()=>$('#careerTracksModal').close());

    // Dashboard
    $$('.dashboard-btn').forEach(btn => {
      btn.addEventListener('click', ()=>{
        if(state.auth) {
          window.location.href = 'dashboard.html';
        } else {
          $('#signUpModal').showModal();
        }
      });
    });

    // Assessment buttons
    const assessmentBtns = [
      '#learningStyleBtn', '#m_learningStyle',
      '#interestProfilerBtn', '#m_interests', 
      '#skillsAssessmentBtn', '#m_skills',
      '#startBtn'
    ];
    assessmentBtns.forEach(selector => {
      const btn = $(selector);
      if(btn) {
        btn.addEventListener('click', ()=>$('#assessmentModal').showModal());
      }
    });

    $('#assessmentCancel').addEventListener('click', ()=>$('#assessmentModal').close());
    $('#assessmentStart').addEventListener('click', ()=>{
      $('#assessmentModal').close();
      
      // Add assessment result to chat
      const results = [
        "Excellent! Based on your assessment, you have a strong analytical mindset and prefer visual learning. I recommend the Data Analytics track - it combines problem-solving with visual insights through dashboards and reports.",
        "Great results! Your assessment shows you're creative and detail-oriented with strong communication skills. The UI/UX Design track would be perfect for combining creativity with user-centered problem solving.",
        "Wonderful! Your assessment indicates you're people-focused with strong organizational skills. I'd recommend either Customer Support or Digital Marketing - both offer excellent remote opportunities and match your interpersonal strengths."
      ];
      
      const randomResult = results[Math.floor(Math.random() * results.length)];
      
      const aiMsg = document.createElement('article');
      aiMsg.className = 'bubble';
      aiMsg.innerHTML = `
        <div class="ava"><i class="fas fa-user-circle"></i></div>
        <div>
          <h3>PMERIT AI:</h3>
          <p>${randomResult} Would you like to explore this track further or register for a class?</p>
        </div>
      `;
      $('#chatBody').appendChild(aiMsg);
      $('#chatBody').scrollTop = $('#chatBody').scrollHeight;
    });

    // Sign up modal
    $('#signInBtn').addEventListener('click', ()=>$('#signUpModal').showModal());
    $('#signUpCancel').addEventListener('click', ()=>$('#signUpModal').close());
    $('#signUpCreate').addEventListener('click', ()=>{
      const name = $('#su_name').value.trim();
      const email = $('#su_email').value.trim();
      const pwd = $('#su_pwd').value.trim();
      
      if(!name || !email || !pwd){
        alert('Please complete all fields.');
        return;
      }
      
      state.auth = true;
      save('pmerit_auth', true);
      updateAuthUI();
      $('#signUpModal').close();
      
      // Welcome message for new users
      setTimeout(() => {
        const welcomeMsg = document.createElement('article');
        welcomeMsg.className = 'bubble';
        welcomeMsg.innerHTML = `
          <div class="ava"><i class="fas fa-user-circle"></i></div>
          <div>
            <h3>PMERIT AI:</h3>
            <p>Welcome to PMERIT, ${name}! Your account has been created successfully. You now have access to your personal dashboard where you can track progress, register for classes, and manage your learning journey. Would you like me to show you around or help you get started with an assessment?</p>
          </div>
        `;
        $('#welcomeMsg')?.remove();
        $('#chatBody').appendChild(welcomeMsg);
        $('#chatBody').scrollTop = $('#chatBody').scrollHeight;
      }, 500);
    });

    // Rotating insights
    const INSIGHTS = [
      "Tip: Short, daily practice beats long, rare sessions.",
      "Insight: Matching projects to your interests improves completion rates.", 
      "Pro tip: Keep notes in your own words for better recall.",
      "Study tip: Teach what you learn to solidify understanding.",
      "Career tip: Build a portfolio while you learn - employers love to see real work."
    ];
    
    function rotateInsights(el){
      if(!el) return;
      let i = 0;
      el.textContent = INSIGHTS[0];
      setInterval(()=>{
        i = (i + 1) % INSIGHTS.length;
        el.textContent = INSIGHTS[i];
      }, 4000);
    }
    
    rotateInsights($('#insights'));
    rotateInsights($('#m_insights'));

    // Initialize
    initState();

    // Add some interaction hints
    setTimeout(() => {
      const hints = [
        "💡 Try asking about career paths or remote work opportunities!",
        "🎯 Click on any assessment to get personalized recommendations",
        "🤖 Toggle Virtual Human mode for a more interactive experience",
        "⚙️ Explore settings for dark mode and text-to-speech options"
      ];
      
      console.log("PMERIT Tips:", hints.join(" | "));
    }, 2000);
  </script>
</body>
</html>
