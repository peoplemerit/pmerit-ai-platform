<!-- 
  PMERIT Mobile Body - Phase 3
  Non-scrollable viewport with scrollable chat container
  Purple gradient background matching mobile design
-->

<!-- Mobile Layout (Default: <1024px) -->
<main class="mobile-main" id="mobile-main">
  
  <!-- Hero Section (Purple Gradient Background) -->
  <section class="mobile-hero">
    <div class="hero-content">
      <h1 class="hero-title">Hi there! I'm your learning companion,</h1>
      <p class="hero-subtitle">empowering your education through innovation. PMERIT provides accessible, high-quality education that opens doors to endless opportunities worldwide. Ready to discover your potential and start your learning journey?</p>
    </div>
  </section>

  <!-- Learning Companion Card -->
  <section class="mobile-companion-card">
    <h2 class="card-title">Ask Your Learning Companion</h2>
    <p class="card-subtitle">Get personalized guidance on courses, career paths, and learning objectives</p>
  </section>

  <!-- Chat Container (Scrollable Area Only) -->
  <section class="mobile-chat-container" id="mobile-chat-container">
    
    <!-- Chat Messages (Scrollable) -->
    <div class="chat-messages" id="chat-messages" role="log" aria-live="polite" aria-atomic="false">
      
      <!-- AI Welcome Message (Initial) -->
      <div class="message-bubble ai-message" data-message-id="welcome">
        <div class="message-avatar">
          <i class="fas fa-robot" aria-hidden="true"></i>
        </div>
        <div class="message-content">
          <h3 class="message-sender">PMERIT AI</h3>
          <p class="message-text">Hello! I'm here to help you explore courses, career paths, and answer any questions about your learning journey. What would you like to know?</p>
          <span class="message-time">Just now</span>
        </div>
      </div>
      
    </div>

    <!-- Typing Indicator (Hidden by default) -->
    <div class="typing-indicator" id="typing-indicator" style="display: none;" aria-live="polite" aria-label="AI is typing">
      <div class="typing-avatar">
        <i class="fas fa-robot" aria-hidden="true"></i>
      </div>
      <div class="typing-dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

  </section>

  <!-- Chat Input (Fixed at Bottom with Safe Area) -->
  <section class="mobile-chat-input" id="mobile-chat-input">
    <div class="input-wrapper">
      <button class="input-add-btn" id="add-attachment-btn" aria-label="Add attachment" disabled>
        <i class="fas fa-plus"></i>
      </button>
      
      <textarea 
        id="chat-input" 
        class="chat-textarea" 
        placeholder='Try: "What programming courses do you offer?"'
        maxlength="1000"
        rows="1"
        aria-label="Type your message"
      ></textarea>
      
      <button class="input-voice-btn" id="voice-input-btn" aria-label="Voice input" disabled>
        <i class="fas fa-microphone"></i>
      </button>
      
      <button class="send-btn" id="send-btn" aria-label="Send message">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
    
    <!-- Input Info Bar -->
    <div class="input-info">
      <span class="char-count" id="char-count">0/1000</span>
    </div>
  </section>

</main>

<!-- Desktop Layout (Three-Panel: â‰¥1024px) -->
<div class="desktop-layout" id="desktop-layout">
  
  <!-- Left Sidebar -->
  <aside class="desktop-sidebar sidebar-left">
    <div class="sidebar-section">
      <h3 class="sidebar-title">
        <i class="fas fa-bolt"></i>
        Quick Actions
      </h3>
      
      <!-- Virtual Human Mode -->
      <div class="sidebar-toggle-item">
        <div class="toggle-label-group">
          <i class="fas fa-user-astronaut"></i>
          <span>Virtual Human Mode</span>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="desktop-vh-toggle" class="modern-toggle">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <!-- Customer Service Mode -->
      <div class="sidebar-toggle-item">
        <div class="toggle-label-group">
          <i class="fas fa-headset"></i>
          <span>Customer Service</span>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="desktop-cs-toggle" class="modern-toggle">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <!-- Career Track -->
      <button class="sidebar-action-btn" id="desktop-career-btn">
        <i class="fas fa-route"></i>
        <span>Career Tracks</span>
        <i class="fas fa-chevron-right"></i>
      </button>

      <!-- Preview Voices -->
      <button class="sidebar-action-btn" id="desktop-voices-btn">
        <i class="fas fa-volume-up"></i>
        <span>Preview Voices</span>
        <i class="fas fa-chevron-right"></i>
      </button>

      <!-- Settings Collapsible -->
      <details class="sidebar-collapsible">
        <summary>
          <i class="fas fa-cog"></i>
          <span>Settings</span>
          <i class="fas fa-chevron-down chevron-icon"></i>
        </summary>
        <div class="collapsible-content">
          
          <div class="sidebar-toggle-item">
            <span><i class="fas fa-moon"></i> Dark Mode</span>
            <label class="toggle-switch">
              <input type="checkbox" id="desktop-dark-toggle" class="modern-toggle">
              <span class="toggle-slider"></span>
            </label>
          </div>

          <div class="sidebar-toggle-item">
            <span><i class="fas fa-volume-high"></i> Text-to-Speech</span>
            <label class="toggle-switch">
              <input type="checkbox" id="desktop-tts-toggle" class="modern-toggle">
              <span class="toggle-slider"></span>
            </label>
          </div>

        </div>
      </details>

      <!-- Dashboard Button -->
      <button class="sidebar-action-btn primary-action" id="desktop-dashboard-btn">
        <i class="fas fa-th-large"></i>
        <span>Dashboard</span>
      </button>

    </div>
  </aside>

  <!-- Center Panel (Chat) -->
  <main class="desktop-main">
    
    <!-- Virtual Human Canvas Container (Hidden by default) -->
    <div id="vh-canvas-root" class="vh-canvas-root" style="display: none;">
      <div class="vh-container">
        <canvas id="vh-canvas"></canvas>
        <div id="vh-captions"></div>
        <div class="vh-status-strip">
          <span id="vh-status-text">Virtual Human is loading...</span>
        </div>
      </div>
    </div>

    <!-- Chat Header -->
    <div class="chat-header">
      <div class="chat-badges">
        <span class="badge badge-default">
          <i class="fas fa-robot"></i>
          PMERIT AI
        </span>
      </div>
    </div>

    <!-- Chat Messages Area -->
    <div class="desktop-chat-messages" id="desktop-chat-messages" role="log" aria-live="polite">
      
      <!-- AI Welcome Message -->
      <div class="message-bubble ai-message">
        <div class="message-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="message-content">
          <h3 class="message-sender">PMERIT AI</h3>
          <p class="message-text">Welcome to PMERIT! I'm here to guide your learning journey. Our mission is to provide accessible, high-quality education that opens doors to endless opportunities. How can I help you discover your potential today?</p>
          <span class="message-time">Just now</span>
        </div>
      </div>

    </div>

    <!-- Desktop Typing Indicator -->
    <div class="typing-indicator" id="desktop-typing-indicator" style="display: none;">
      <div class="typing-avatar">
        <i class="fas fa-robot"></i>
      </div>
      <div class="typing-dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <!-- Desktop Chat Input -->
    <div class="desktop-chat-input">
      <div class="input-wrapper">
        <textarea 
          id="desktop-chat-input" 
          class="chat-textarea" 
          placeholder='Try: "What programming courses do you offer?"'
          maxlength="1000"
          rows="1"
          aria-label="Type your message"
        ></textarea>
        <button class="send-btn" id="desktop-send-btn" aria-label="Send message">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
      <div class="input-info">
        <span class="char-count" id="desktop-char-count">0/1000</span>
      </div>
    </div>

  </main>

  <!-- Right Sidebar -->
  <aside class="desktop-sidebar sidebar-right">
    <div class="sidebar-section">
      <h3 class="sidebar-title">
        <i class="fas fa-life-ring"></i>
        Support Assistant
      </h3>
      <p class="sidebar-description">Need help? I'm here to assist you.</p>
      
      <div class="support-actions">
        <button class="support-btn">
          <i class="fas fa-user"></i>
          <span>Virtual Human</span>
        </button>
        <button class="support-btn">
          <i class="fas fa-headset"></i>
          <span>Support</span>
        </button>
      </div>

      <div class="sidebar-divider"></div>

      <h4 class="sidebar-subtitle">Discover Your Path (AI)</h4>
      <p class="sidebar-info">Personalized learning plan</p>
      <p class="sidebar-subinfo">Start a short flow that blends learning style, interests, and skills into a plan.</p>
      
      <button class="sidebar-action-btn primary-action" id="desktop-begin-assessment">
        <i class="fas fa-rocket"></i>
        <span>Begin Assessment</span>
      </button>

      <p class="sidebar-tip">
        <i class="fas fa-lightbulb"></i>
        <em>Teach what you've learned to someone else to solidify your understanding.</em>
      </p>

    </div>
  </aside>

</div>
