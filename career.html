<!DOCTYPE html>
<html lang="en" data-page="career" data-role="user">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Paths - PMERIT</title>
    <meta name="description" content="Explore career opportunities and market insights - discover paths that match your skills and interests with real job market data.">
    <link rel="stylesheet" href="/assets/base.css">
    <style>
        /* Career-specific styles */
        .career-hero {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            color: white;
            padding: 50px 0;
            border-radius: var(--radius-xl);
            margin-bottom: 40px;
            text-align: center;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .hero-title {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        
        .hero-subtitle {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .career-explorer {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .filters-sidebar {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: 25px;
            height: fit-content;
        }
        
        .filters-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--text-primary);
        }
        
        .filter-section {
            margin-bottom: 25px;
        }
        
        .filter-section:last-child {
            margin-bottom: 0;
        }
        
        .filter-label {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 10px;
            color: var(--text-primary);
        }
        
        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .filter-checkbox {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 13px;
        }
        
        .filter-checkbox input[type="checkbox"] {
            margin: 0;
        }
        
        .salary-range {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .salary-input {
            flex: 1;
            padding: 6px 10px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            font-size: 12px;
        }
        
        .careers-main {
            display: flex;
            flex-direction: column;
        }
        
        .search-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .career-search {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-lg);
            font-size: 16px;
        }
        
        .career-search:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .search-btn {
            padding: 12px 24px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--radius-lg);
            cursor: pointer;
            font-weight: 500;
        }
        
        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .results-count {
            font-size: 14px;
            color: var(--text-secondary);
        }
        
        .sort-dropdown {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            background: var(--bg-primary);
        }
        
        .career-cards {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .career-card {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: 25px;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }
        
        .career-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .career-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }
        
        .career-info {
            flex: 1;
        }
        
        .career-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 5px;
        }
        
        .career-company {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .career-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .career-tag {
            padding: 4px 10px;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border-radius: 12px;
            font-size: 12px;
        }
        
        .career-salary {
            text-align: right;
            font-weight: 600;
            color: var(--success-color);
        }
        
        .salary-amount {
            font-size: 18px;
            margin-bottom: 2px;
        }
        
        .salary-period {
            font-size: 12px;
            opacity: 0.8;
        }
        
        .career-body {
            margin-bottom: 20px;
        }
        
        .career-description {
            color: var(--text-primary);
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .career-requirements {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .requirement-section {
            background: var(--bg-secondary);
            padding: 15px;
            border-radius: var(--radius);
        }
        
        .requirement-title {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 8px;
            color: var(--text-primary);
        }
        
        .requirement-list {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.4;
        }
        
        .career-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .career-meta {
            display: flex;
            gap: 20px;
            align-items: center;
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .career-actions {
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .action-primary {
            background: var(--primary-color);
            color: white;
        }
        
        .action-primary:hover {
            background: var(--primary-dark);
        }
        
        .action-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }
        
        .action-secondary:hover {
            background: var(--bg-secondary);
        }
        
        .market-insights {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: 30px;
            margin-bottom: 40px;
        }
        
        .insights-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--text-primary);
        }
        
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
        }
        
        .insight-card {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: var(--radius-lg);
            text-align: center;
        }
        
        .insight-icon {
            font-size: 32px;
            margin-bottom: 15px;
        }
        
        .insight-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .insight-label {
            font-size: 14px;
            color: var(--text-secondary);
        }
        
        .learning-paths {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: 30px;
        }
        
        .paths-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--text-primary);
            text-align: center;
        }
        
        .paths-subtitle {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 30px;
        }
        
        .path-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .path-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            padding: 25px;
            text-align: center;
            transition: transform 0.2s;
            cursor: pointer;
        }
        
        .path-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        
        .path-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }
        
        .path-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
        }
        
        .path-description {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 20px;
        }
        
        .path-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .path-btn {
            width: 100%;
            padding: 10px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .path-btn:hover {
            background: var(--primary-dark);
        }
        
        @media (max-width: 1024px) {
            .career-explorer {
                grid-template-columns: 1fr;
            }
            
            .filters-sidebar {
                order: 2;
            }
            
            .careers-main {
                order: 1;
            }
        }
        
        @media (max-width: 768px) {
            .hero-title {
                font-size: 28px;
            }
            
            .hero-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .search-bar {
                flex-direction: column;
            }
            
            .career-header {
                flex-direction: column;
                align-items: start;
            }
            
            .career-salary {
                text-align: left;
                margin-top: 10px;
            }
            
            .career-footer {
                flex-direction: column;
                align-items: start;
                gap: 15px;
            }
        }
    </style>
</head>

<body>
    <!-- Shared header will be injected here -->
    <header id="header"></header>
    
    <!-- Shared navigation will be injected here -->
    <nav id="site-nav"></nav>
    
    <!-- Main career content -->
    <main class="container">
        <div class="career-content">
            
            <!-- Career Hero Section -->
            <section class="career-hero">
                <div class="hero-content">
                    <h1 class="hero-title" data-i18n="careerHeroTitle">Discover Your Career Path</h1>
                    <p class="hero-subtitle" data-i18n="careerHeroSubtitle">
                        Explore thousands of career opportunities powered by real job market data from the Bureau of Labor Statistics. 
                        Find roles that match your skills, interests, and salary expectations.
                    </p>
                    
                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-number" id="totalJobs">2.4K+</div>
                            <div class="stat-label" data-i18n="activeJobs">Active Jobs</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="avgSalary">$85K</div>
                            <div class="stat-label" data-i18n="averageSalary">Average Salary</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="growthRate">12%</div>
                            <div class="stat-label" data-i18n="jobGrowth">Job Growth</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="successRate">94%</div>
                            <div class="stat-label" data-i18n="placementRate">Placement Rate</div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Career Explorer -->
            <section class="career-explorer">
                <aside class="filters-sidebar">
                    <h3 class="filters-title" data-i18n="filterByTitle">Filter Opportunities</h3>
                    
                    <div class="filter-section">
                        <div class="filter-label" data-i18n="jobType">Job Type</div>
                        <div class="filter-options">
                            <label class="filter-checkbox">
                                <input type="checkbox" id="fullTime" name="jobType" value="full-time" checked>
                                <span data-i18n="fullTime">Full-time</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" id="partTime" name="jobType" value="part-time">
                                <span data-i18n="partTime">Part-time</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" id="contract" name="jobType" value="contract">
                                <span data-i18n="contract">Contract</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" id="remote" name="jobType" value="remote">
                                <span data-i18n="remote">Remote</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="filter-section">
                        <div class="filter-label" data-i18n="industry">Industry</div>
                        <div class="filter-options">
                            <label class="filter-checkbox">
                                <input type="checkbox" id="technology" name="industry" value="technology">
                                <span>Technology</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" id="healthcare" name="industry" value="healthcare">
                                <span>Healthcare</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" id="finance" name="industry" value="finance">
                                <span>Finance</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" id="education" name="industry" value="education">
                                <span>Education</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" id="marketing" name="industry" value="marketing">
                                <span>Marketing</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="filter-section">
                        <div class="filter-label" data-i18n="experienceLevel">Experience Level</div>
                        <div class="filter-options">
                            <label class="filter-checkbox">
                                <input type="checkbox" id="entryLevel" name="experience" value="entry">
                                <span data-i18n="entryLevel">Entry Level</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" id="midLevel" name="experience" value="mid">
                                <span data-i18n="midLevel">Mid Level</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" id="senior" name="experience" value="senior">
                                <span data-i18n="senior">Senior</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" id="executive" name="experience" value="executive">
                                <span data-i18n="executive">Executive</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="filter-section">
                        <div class="filter-label" data-i18n="salaryRange">Salary Range</div>
                        <div class="salary-range">
                            <input type="number" class="salary-input" id="minSalary" placeholder="Min" min="0">
                            <span>-</span>
                            <input type="number" class="salary-input" id="maxSalary" placeholder="Max" min="0">
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" id="applyFilters" style="width: 100%; margin-top: 20px;" data-i18n="applyFilters">
                        Apply Filters
                    </button>
                </aside>
                
                <div class="careers-main">
                    <div class="search-bar">
                        <input type="text" class="career-search" id="careerSearch" 
                               placeholder="Search job titles, companies, or skills..." data-i18n-placeholder="searchPlaceholder">
                        <button class="search-btn" id="searchBtn" data-i18n="search">Search</button>
                    </div>
                    
                    <div class="results-header">
                        <div class="results-count" id="resultsCount">
                            <span data-i18n="showing">Showing</span> <strong id="jobCount">1,247</strong> <span data-i18n="opportunities">opportunities</span>
                        </div>
                        <select class="sort-dropdown" id="sortJobs">
                            <option value="relevance" data-i18n="sortRelevance">Most Relevant</option>
                            <option value="salary" data-i18n="sortSalary">Highest Salary</option>
                            <option value="date" data-i18n="sortDate">Most Recent</option>
                            <option value="company" data-i18n="sortCompany">Company A-Z</option>
                        </select>
                    </div>
                    
                    <div class="career-cards" id="careerCards">
                        <!-- Career cards will be loaded dynamically -->
                    </div>
                </div>
            </section>
            
            <!-- Market Insights -->
            <section class="market-insights">
                <h2 class="insights-title" data-i18n="marketInsightsTitle">Job Market Insights</h2>
                <div class="insights-grid">
                    <div class="insight-card">
                        <div class="insight-icon">📈</div>
                        <div class="insight-value" id="techGrowth">+18%</div>
                        <div class="insight-label" data-i18n="techJobGrowth">Tech Job Growth</div>
                    </div>
                    <div class="insight-card">
                        <div class="insight-icon">🏥</div>
                        <div class="insight-value" id="healthcareGrowth">+22%</div>
                        <div class="insight-label" data-i18n="healthcareGrowth">Healthcare Growth</div>
                    </div>
                    <div class="insight-card">
                        <div class="insight-icon">💰</div>
                        <div class="insight-value" id="salaryIncrease">+8.5%</div>
                        <div class="insight-label" data-i18n="salaryIncrease">Avg. Salary Increase</div>
                    </div>
                    <div class="insight-card">
                        <div class="insight-icon">🏠</div>
                        <div class="insight-value" id="remoteJobs">45%</div>
                        <div class="insight-label" data-i18n="remoteOpportunities">Remote Opportunities</div>
                    </div>
                </div>
            </section>
            
            <!-- Learning Paths -->
            <section class="learning-paths">
                <h2 class="paths-title" data-i18n="pathsTitle">Get Ready for These Careers</h2>
                <p class="paths-subtitle" data-i18n="pathsSubtitle">
                    Start learning today and prepare for high-demand careers with our specialized learning paths.
                </p>
                
                <div class="path-cards">
                    <div class="path-card" data-path="full-stack">
                        <div class="path-icon">💻</div>
                        <h3 class="path-title">Full-Stack Developer</h3>
                        <p class="path-description">
                            Master front-end and back-end technologies to build complete web applications.
                        </p>
                        <div class="path-stats">
                            <span>🎯 $95K avg salary</span>
                            <span>📚 12 weeks</span>
                            <span>⭐ 95% job placement</span>
                        </div>
                        <button class="path-btn" data-i18n="startPath">Start Learning Path</button>
                    </div>
                    
                    <div class="path-card" data-path="data-science">
                        <div class="path-icon">📊</div>
                        <h3 class="path-title">Data Scientist</h3>
                        <p class="path-description">
                            Analyze data and build machine learning models to drive business insights.
                        </p>
                        <div class="path-stats">
                            <span>🎯 $120K avg salary</span>
                            <span>📚 16 weeks</span>
                            <span>⭐ 88% job placement</span>
                        </div>
                        <button class="path-btn" data-i18n="startPath">Start Learning Path</button>
                    </div>
                    
                    <div class="path-card" data-path="cybersecurity">
                        <div class="path-icon">🔒</div>
                        <h3 class="path-title">Cybersecurity Specialist</h3>
                        <p class="path-description">
                            Protect organizations from cyber threats and ensure data security.
                        </p>
                        <div class="path-stats">
                            <span>🎯 $105K avg salary</span>
                            <span>📚 14 weeks</span>
                            <span>⭐ 92% job placement</span>
                        </div>
                        <button class="path-btn" data-i18n="startPath">Start Learning Path</button>
                    </div>
                    
                    <div class="path-card" data-path="healthcare-tech">
                        <div class="path-icon">🏥</div>
                        <h3 class="path-title">Healthcare Technology</h3>
                        <p class="path-description">
                            Bridge healthcare and technology to improve patient outcomes.
                        </p>
                        <div class="path-stats">
                            <span>🎯 $88K avg salary</span>
                            <span>📚 10 weeks</span>
                            <span>⭐ 94% job placement</span>
                        </div>
                        <button class="path-btn" data-i18n="startPath">Start Learning Path</button>
                    </div>
                </div>
            </section>
        </div>
    </main>
    
    <!-- Shared footer will be injected here -->
    <footer id="footer"></footer>
    
    <!-- Load shared functionality -->
    <script src="/assets/boot-includes.js" defer></script>
    <script src="/assets/nav-config.js" defer></script>
    
    <!-- Career-specific JavaScript -->
    <script>
        // Career page application
        const CareerApp = {
            jobs: [],
            filteredJobs: [],
            filters: {
                search: '',
                jobType: ['full-time'],
                industry: [],
                experience: [],
                minSalary: null,
                maxSalary: null
            },
            sortBy: 'relevance',
            
            // Initialize career page
            init() {
                console.log('🎯 Career page initialized');
                this.setupEventListeners();
                this.loadJobs();
                this.loadMarketData();
            },
            
            setupEventListeners() {
                // Search functionality
                const searchInput = PMERIT.utils.$('#careerSearch');
                const searchBtn = PMERIT.utils.$('#searchBtn');
                
                if (searchInput) {
                    searchInput.addEventListener('input', PMERIT.utils.debounce((e) => {
                        this.filters.search = e.target.value;
                        this.applyFilters();
                    }, 300));
                }
                
                if (searchBtn) {
                    searchBtn.addEventListener('click', () => {
                        this.filters.search = searchInput.value;
                        this.applyFilters();
                    });
                }
                
                // Filter checkboxes
                document.addEventListener('change', (e) => {
                    if (e.target.matches('input[name="jobType"], input[name="industry"], input[name="experience"]')) {
                        this.updateFilterArrays();
                        this.applyFilters();
                    }
                    
                    if (e.target.matches('#minSalary, #maxSalary')) {
                        this.filters.minSalary = PMERIT.utils.$('#minSalary').value || null;
                        this.filters.maxSalary = PMERIT.utils.$('#maxSalary').value || null;
                        this.applyFilters();
                    }
                    
                    if (e.target.matches('#sortJobs')) {
                        this.sortBy = e.target.value;
                        this.applySorting();
                    }
                });
                
                // Apply filters button
                const applyFiltersBtn = PMERIT.utils.$('#applyFilters');
                if (applyFiltersBtn) {
                    applyFiltersBtn.addEventListener('click', () => this.applyFilters());
                }
                
                // Learning path cards
                document.addEventListener('click', (e) => {
                    if (e.target.matches('.path-btn')) {
                        const pathCard = e.target.closest('.path-card');
                        const pathId = pathCard.getAttribute('data-path');
                        this.startLearningPath(pathId);
                    }
                    
                    if (e.target.matches('.action-btn')) {
                        const action = e.target.textContent.toLowerCase();
                        const jobCard = e.target.closest('.career-card');
                        const jobId = jobCard.getAttribute('data-job-id');
                        
                        if (action.includes('apply')) {
                            this.applyToJob(jobId);
                        } else if (action.includes('save')) {
                            this.saveJob(jobId);
                        }
                    }
                });
            },
            
            updateFilterArrays() {
                this.filters.jobType = Array.from(PMERIT.utils.$$('input[name="jobType"]:checked')).map(el => el.value);
                this.filters.industry = Array.from(PMERIT.utils.$$('input[name="industry"]:checked')).map(el => el.value);
                this.filters.experience = Array.from(PMERIT.utils.$$('input[name="experience"]:checked')).map(el => el.value);
            },
            
            async loadJobs() {
                try {
                    // Load jobs from your 78-table database + BLS API integration
                    const response = await PMERIT.utils.fetchJson('/api/career/jobs');
                    
                    if (response.success && response.jobs) {
                        this.jobs = response.jobs;
                    } else {
                        // Use fallback jobs for development
                        this.jobs = this.getFallbackJobs();
                    }
                    
                    this.filteredJobs = [...this.jobs];
                    this.renderJobs();
                    
                } catch (error) {
                    console.warn('Failed to load jobs:', error);
                    this.jobs = this.getFallbackJobs();
                    this.filteredJobs = [...this.jobs];
                    this.renderJobs();
                }
            },
            
            async loadMarketData() {
                try {
                    // Load market insights from BLS API
                    const response = await PMERIT.utils.fetchJson('/api/career/market-insights');
                    
                    if (response.success && response.insights) {
                        this.updateMarketInsights(response.insights);
                    }
                } catch (error) {
                    console.warn('Failed to load market data:', error);
                }
            },
            
            getFallbackJobs() {
                return [
                    {
                        id: '1',
                        title: 'Senior Full-Stack Developer',
                        company: 'TechFlow Inc.',
                        location: 'San Francisco, CA',
                        type: 'full-time',
                        industry: 'technology',
                        experience: 'senior',
                        salary: { min: 120000, max: 160000 },
                        description: 'Lead development of scalable web applications using React, Node.js, and cloud technologies. Work with cross-functional teams to deliver high-quality software solutions.',
                        requirements: {
                            skills: ['React', 'Node.js', 'AWS', 'PostgreSQL', 'Docker'],
                            education: 'Bachelor\'s in Computer Science or equivalent',
                            experience: '5+ years in full-stack development'
                        },
                        posted: '2024-01-15',
                        applicants: 45,
                        tags: ['JavaScript', 'React', 'Node.js', 'AWS', 'Remote OK']
                    },
                    {
                        id: '2',
                        title: 'Healthcare Data Analyst',
                        company: 'MedTech Solutions',
                        location: 'Boston, MA',
                        type: 'full-time',
                        industry: 'healthcare',
                        experience: 'mid',
                        salary: { min: 75000, max: 95000 },
                        description: 'Analyze healthcare data to improve patient outcomes and operational efficiency. Create reports and visualizations for clinical and administrative teams.',
                        requirements: {
                            skills: ['Python', 'SQL', 'Tableau', 'Healthcare Systems', 'Statistics'],
                            education: 'Bachelor\'s in Healthcare, Statistics, or related field',
                            experience: '3+ years in healthcare analytics'
                        },
                        posted: '2024-01-12',
                        applicants: 28,
                        tags: ['Python', 'Healthcare', 'Data Analysis', 'Tableau', 'Clinical']
                    },
                    {
                        id: '3',
                        title: 'Junior UX Designer',
                        company: 'Creative Labs',
                        location: 'Austin, TX',
                        type: 'full-time',
                        industry: 'technology',
                        experience: 'entry',
                        salary: { min: 55000, max: 70000 },
                        description: 'Design user-centered digital experiences for mobile and web applications. Collaborate with product teams to create intuitive and engaging interfaces.',
                        requirements: {
                            skills: ['Figma', 'Sketch', 'User Research', 'Prototyping', 'Design Systems'],
                            education: 'Bachelor\'s in Design, HCI, or portfolio demonstrating UX skills',
                            experience: '1-2 years in UX/UI design'
                        },
                        posted: '2024-01-10',
                        applicants: 67,
                        tags: ['UX Design', 'Figma', 'Mobile', 'Web', 'User Research']
                    },
                    {
                        id: '4',
                        title: 'Cybersecurity Specialist',
                        company: 'SecureNet Corp',
                        location: 'Remote',
                        type: 'remote',
                        industry: 'technology',
                        experience: 'mid',
                        salary: { min: 90000, max: 125000 },
                        description: 'Protect organizational assets through security monitoring, incident response, and vulnerability assessments. Implement security best practices across systems.',
                        requirements: {
                            skills: ['Network Security', 'SIEM', 'Penetration Testing', 'Risk Assessment', 'Compliance'],
                            education: 'Bachelor\'s in Cybersecurity, IT, or relevant certifications',
                            experience: '3+ years in cybersecurity or IT security'
                        },
                        posted: '2024-01-08',
                        applicants: 34,
                        tags: ['Cybersecurity', 'SIEM', 'Remote', 'Compliance', 'Security']
                    }
                ];
            },
            
            applyFilters() {
                this.filteredJobs = this.jobs.filter(job => {
                    // Search filter
                    if (this.filters.search) {
                        const searchTerm = this.filters.search.toLowerCase();
                        const matchesSearch = job.title.toLowerCase().includes(searchTerm) ||
                                           job.company.toLowerCase().includes(searchTerm) ||
                                           job.description.toLowerCase().includes(searchTerm) ||
                                           job.tags.some(tag => tag.toLowerCase().includes(searchTerm));
                        if (!matchesSearch) return false;
                    }
                    
                    // Job type filter
                    if (this.filters.jobType.length > 0 && !this.filters.jobType.includes(job.type)) {
                        return false;
                    }
                    
                    // Industry filter
                    if (this.filters.industry.length > 0 && !this.filters.industry.includes(job.industry)) {
                        return false;
                    }
                    
                    // Experience filter
                    if (this.filters.experience.length > 0 && !this.filters.experience.includes(job.experience)) {
                        return false;
                    }
                    
                    // Salary filter
                    if (this.filters.minSalary && job.salary.max < this.filters.minSalary) {
                        return false;
                    }
                    
                    if (this.filters.maxSalary && job.salary.min > this.filters.maxSalary) {
                        return false;
                    }
                    
                    return true;
                });
                
                this.applySorting();
                this.renderJobs();
            },
            
            applySorting() {
                this.filteredJobs.sort((a, b) => {
                    switch (this.sortBy) {
                        case 'salary':
                            return b.salary.max - a.salary.max;
                        case 'date':
                            return new Date(b.posted) - new Date(a.posted);
                        case 'company':
                            return a.company.localeCompare(b.company);
                        case 'relevance':
                        default:
                            return 0; // Keep original order for relevance
                    }
                });
            },
            
            renderJobs() {
                const careerCards = PMERIT.utils.$('#careerCards');
                if (!careerCards) return;
                
                // Update count
                const jobCount = PMERIT.utils.$('#jobCount');
                if (jobCount) {
                    jobCount.textContent = this.filteredJobs.length.toLocaleString();
                }
                
                if (this.filteredJobs.length === 0) {
                    careerCards.innerHTML = `
                        <div style="text-align: center; padding: 60px 20px; color: var(--text-secondary);">
                            <div style="font-size: 48px; margin-bottom: 20px;">🔍</div>
                            <h3 style="margin-bottom: 10px;">No jobs found</h3>
                            <p>Try adjusting your filters or search criteria.</p>
                        </div>
                    `;
                    return;
                }
                
                careerCards.innerHTML = this.filteredJobs.map(job => this.createJobCard(job)).join('');
            },
            
            createJobCard(job) {
                const salaryRange = `$${(job.salary.min / 1000).toFixed(0)}K - $${(job.salary.max / 1000).toFixed(0)}K`;
                const postedDate = new Date(job.posted).toLocaleDateString();
                
                return `
                    <div class="career-card" data-job-id="${job.id}">
                        <div class="career-header">
                            <div class="career-info">
                                <h3 class="career-title">${job.title}</h3>
                                <div class="career-company">${job.company} • ${job.location}</div>
                                <div class="career-tags">
                                    ${job.tags.map(tag => `<span class="career-tag">${tag}</span>`).join('')}
                                </div>
                            </div>
                            <div class="career-salary">
                                <div class="salary-amount">${salaryRange}</div>
                                <div class="salary-period">per year</div>
                            </div>
                        </div>
                        
                        <div class="career-body">
                            <p class="career-description">${job.description}</p>
                            
                            <div class="career-requirements">
                                <div class="requirement-section">
                                    <div class="requirement-title">Key Skills</div>
                                    <div class="requirement-list">${job.requirements.skills.join(', ')}</div>
                                </div>
                                <div class="requirement-section">
                                    <div class="requirement-title">Experience</div>
                                    <div class="requirement-list">${job.requirements.experience}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="career-footer">
                            <div class="career-meta">
                                <div class="meta-item">📅 Posted ${postedDate}</div>
                                <div class="meta-item">👥 ${job.applicants} applicants</div>
                                <div class="meta-item">📍 ${job.type.charAt(0).toUpperCase() + job.type.slice(1)}</div>
                            </div>
                            <div class="career-actions">
                                <button class="action-btn action-primary">Apply Now</button>
                                <button class="action-btn action-secondary">Save Job</button>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            updateMarketInsights(insights) {
                if (insights.techGrowth) {
                    PMERIT.utils.$('#techGrowth').textContent = `+${insights.techGrowth}%`;
                }
                if (insights.healthcareGrowth) {
                    PMERIT.utils.$('#healthcareGrowth').textContent = `+${insights.healthcareGrowth}%`;
                }
                if (insights.salaryIncrease) {
                    PMERIT.utils.$('#salaryIncrease').textContent = `+${insights.salaryIncrease}%`;
                }
                if (insights.remoteJobs) {
                    PMERIT.utils.$('#remoteJobs').textContent = `${insights.remoteJobs}%`;
                }
            },
            
            startLearningPath(pathId) {
                // Navigate to courses filtered by learning path
                const pathToQuery = {
                    'full-stack': 'full-stack development',
                    'data-science': 'data science',
                    'cybersecurity': 'cybersecurity',
                    'healthcare-tech': 'healthcare technology'
                };
                
                const query = pathToQuery[pathId] || '';
                window.location.href = `/courses.html?search=${encodeURIComponent(query)}`;
            },
            
            applyToJob(jobId) {
                // TODO: Implement job application flow
                console.log('Applying to job:', jobId);
                alert('Application process will be implemented soon!');
            },
            
            saveJob(jobId) {
                // TODO: Implement job saving functionality
                console.log('Saving job:', jobId);
                alert('Job saved to your favorites!');
            }
        };
        
        // Initialize career app when page is ready
        PMERIT.events.on('app:ready', () => {
            CareerApp.init();
        });
    </script>
</body>
</html>
